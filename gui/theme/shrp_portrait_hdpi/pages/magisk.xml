<?xml version="1.0"?>
<recovery>
	<pages>
		<!--epicX_magisk_manager-->
        <page name="c_splash_magisk">
			<template name="c_page"/>
			<template name="c_status_bar"/>
			<image>
				<placement x="415" y="750"/>
				<image resource="c_magisk_splash"/>
			</image>
			<button style="c_text_dashboard">
				<placement x="0" y="1100" w="1080" h="80"/>
				<fill color="%transparent%"/>
				<text>{@c_magisk_m=Magisk Manager}</text>
			</button>
			<button>
				<condition var1="c_magisk_status" op="=" var2="0"/>
				<placement x="379" y="1620"/>
				<image resource="c_magisk_start" highlightresource="c_magisk_start_highlight"/>
				<actions>
					<action function="cmd">
cd /twres/magisk/;
sh mm;
sh init;
</action>
					<action function="shrp_magisk_info"/>
					<action function="page">c_magisk_bhosdk</action>
				</actions>
			</button>
			<button>
				<condition var1="c_magisk_status" op="!=" var2="0"/>
				<placement x="379" y="1620"/>
				<image resource="c_magisk_start" highlightresource="c_magisk_start_highlight"/>
				<actions>
					<action function="page">c_magisk_bhosdk</action>
				</actions>
			</button>
			<action>
				<touch key="back"/>
				<actions>
					<action function="cmd">
cd /twres/magisk/
sh exit
cd /
umount -l _magisk;
rm -rf _magisk;
					</action>
					<action function="page">c_refresh</action>
				</actions>
			</action>
			<action>
				<touch key="home"/>
				<actions>
					<action function="cmd">
cd /twres/magisk/
sh exit
cd /
umount -l _magisk;
rm -rf _magisk;
					</action>
					<action function="page">c_refresh</action>
				</actions>
			</action>
		</page>
		<page name="c_magisk_bhosdk">
			<template name="c_page"/>
			<template name="c_status_bar"/>
			<text style="c_main_text_header">
				<placement x="%c_hawk_base_column%" y="%c_hawk_base_first_header%"/>
				<text>{@c_magisk_m=Magisk Manager}</text>
			</text>
			<fileselector style="c_file_for_magisk">
				<placement x="48" y="%magisk_manager_file_selector_default_y%" w="%file_selector_default_w%" h="%magisk_manager_file_selector_default_h%"/>
				<sort name="tw_gui_sort_order"/>
				<filter folders="1" files="0" nav="0"/>
				<path name="c_magisk_path" default="/_magisk/"/>
				<data name="c_magisk_module_name"/>
				<selection name="c_magisk_name"/>
			</fileselector>
			<text style="c_text_dashboard">
				<condition var1="c_magisk_status" op="!=" var2="1"/>
				<placement x="%c_hawk_base_column%" y="%c_hawk_base_second_header%"/>
				<text>{@c_magisk=Magisk} {@c_version=Version} - %c_magisk_ver%</text>
			</text>
			<text style="c_text_dashboard">
				<condition var1="c_magisk_status" op="!=" var2="1"/>
				<placement x="%c_hawk_base_column%" y="%magisk_manager_core_txt_y%"/>
				<text>{@c_module_core_only_mode=Core Only Mode}</text>
			</text>
			<text style="c_sub">
				<condition var1="c_magisk_status" op="!=" var2="1"/>
				<placement x="%c_hawk_base_column%" y="%magisk_manager_list_txt_y%"/>
				<text>{@c_module_list=List of modules}</text>
			</text>
			<button>
				<conditions>
					<condition var1="core" op="=" var2="0"/>
					<condition var1="c_magisk_status" op="!=" var2="1"/>
				</conditions>
				<placement x="910" y="%input_default_y%" />
				<image resource="c_switch_off"/>
				<actions>
					<action function="cmd">
cd /twres/magisk/;
sh c_core_only_enabler;
					</action>
					<action function="set">core=1</action>
				</actions>
			</button>
			<button>
				<conditions>
					<condition var1="core" op="=" var2="1"/>
					<condition var1="c_magisk_status" op="!=" var2="1"/>
				</conditions>
				<placement x="910" y="%input_default_y%"/>
				<image resource="c_switch_on"/>
				<actions>
					<action function="cmd">
cd /twres/magisk/;
sh c_core_only_disabler;
					</action>
					<action function="set">core=0</action>
				</actions>
			</button>
			<image>
				<condition var1="c_magisk_status" op="=" var2="1"/>
				<placement x="439" y="868"/>
				<image resource="c_magisk_not_exist"/>
			</image>
			<button>
				<condition var1="c_magisk_status" op="=" var2="1"/>
				<placement x="0" y="1111" h="100" w="1080"/>
				<fill color="%transparent%"/>
				<font resource="c_dashboard_header" color="#ed6f01"/>
				<text>{@c_magiskNull=Magisk Not Installed}</text>
			</button>
			<action>
				<condition var1="c_magisk_module_name" op="modified"/>
				<actions>
					<action function="shrp_magisk_msc"/>
					<action function="shrp_magisk_mi"/>
					<action function="page">c_magisk_option</action>
				</actions>
			</action>
			<button style="c_circle4">
				<placement x="860" y="1628"/>
				<conditions>
					<condition var1="c_magisk_status" op="=" var2="1"/>
					<condition var1="c_magisk_update" op="!=" var2="1"/>
				</conditions>
				<text>{@c_root=Root}</text>
				<actions>
					<action function="set">tw_back=c_magisk_bhosdk</action>
					<action function="set">tw_filename=/sdcard/SHRP/addons/c_magisk.zip</action>
					<action function="set">tw_action=queuezip</action>
					<action function="set">tw_has_action2=1</action>
					<action function="set">tw_action2=flash</action>
					<action function="set">tw_action2_param=flash_zip</action>
					<action function="set">tw_text1={@confirm_flash_hdr=Confirm Flash}</action>
					<action function="set">tw_complete_text1={@done=Done}</action>
					<action function="set">tw_slider_text=Swipe to Confirm</action>
					<action function="page">confirm_action</action>
				</actions>
			</button>
			<button style="c_circle4">
				<placement x="860" y="1628"/>
				<conditions>
					<condition var1="c_magisk_status" op="!=" var2="1"/>
					<condition var1="c_magisk_update" op="=" var2="1"/>
				</conditions>
				<text>{@c_root=Root}</text>
				<actions>
					<action function="set">tw_back=c_magisk_bhosdk</action>
					<action function="set">tw_filename=/sdcard/SHRP/addons/c_magisk.zip</action>
					<action function="set">tw_action=queuezip</action>
					<action function="set">tw_has_action2=1</action>
					<action function="set">tw_action2=flash</action>
					<action function="set">tw_action2_param=flash_zip</action>
					<action function="set">tw_text1={@confirm_flash_hdr=Confirm Flash}</action>
					<action function="set">tw_complete_text1={@done=Done}</action>
					<action function="set">tw_slider_text=Swipe to Confirm</action>
					<action function="page">confirm_action</action>
				</actions>
			</button>
			<button style="c_circle4">
				<placement x="860" y="1628"/>
				<conditions>
					<condition var1="c_magisk_status" op="=" var2="1"/>
					<condition var1="c_magisk_update" op="=" var2="1"/>
				</conditions>
				<text>{@c_root=Root}</text>
				<actions>
					<action function="set">tw_back=c_magisk_bhosdk</action>
					<action function="set">tw_filename=/sdcard/SHRP/addons/c_magisk.zip</action>
					<action function="set">tw_action=queuezip</action>
					<action function="set">tw_has_action2=1</action>
					<action function="set">tw_action2=flash</action>
					<action function="set">tw_action2_param=flash_zip</action>
					<action function="set">tw_text1={@confirm_flash_hdr=Confirm Flash}</action>
					<action function="set">tw_complete_text1={@done=Done}</action>
					<action function="set">tw_slider_text=Swipe to Confirm</action>
					<action function="page">confirm_action</action>
				</actions>
			</button>
			<button style="c_circle4">
				<placement x="860" y="1628"/>
				<conditions>
					<condition var1="c_magisk_status" op="!=" var2="1"/>
					<condition var1="c_magisk_update" op="!=" var2="1"/>
				</conditions>
				<text>{@c_unroot=Unroot}</text>
				<actions>
					<action function="set">tw_back=c_magisk_bhosdk</action>
					<action function="set">tw_filename=/sdcard/SHRP/addons/unmagisk.zip</action>
					<action function="set">tw_action=queuezip</action>
					<action function="set">tw_has_action2=1</action>
					<action function="set">tw_action2=flash</action>
					<action function="set">tw_action2_param=flash_zip</action>
					<action function="set">tw_text1={@confirm_flash_hdr=Confirm Flash}</action>
					<action function="set">tw_complete_text1={@done=Done}</action>
					<action function="set">tw_slider_text=Swipe to Confirm</action>
					<action function="page">confirm_action</action>
				</actions>
			</button>
			<button style="c_circle4">
				<placement x="860" y="1450"/>
				<conditions>
					<condition var1="c_magisk_status" op="=" var2="0"/>
					<condition var1="c_magisk_update" op="=" var2="1"/>
				</conditions>
				<text>{@c_unroot=Unroot}</text>
				<actions>
					<action function="set">tw_back=c_magisk_bhosdk</action>
					<action function="set">tw_filename=/sdcard/SHRP/addons/unmagisk.zip</action>
					<action function="set">tw_action=queuezip</action>
					<action function="set">tw_has_action2=1</action>
					<action function="set">tw_action2=flash</action>
					<action function="set">tw_action2_param=flash_zip</action>
					<action function="set">tw_text1={@confirm_flash_hdr=Confirm Flash}</action>
					<action function="set">tw_complete_text1={@done=Done}</action>
					<action function="set">tw_slider_text=Swipe to Confirm</action>
					<action function="page">confirm_action</action>
				</actions>
			</button>
			<action>
				<touch key="back"/>
				<actions>
					<action function="cmd">
cd /twres/magisk/
sh exit
cd /
umount -l _magisk
rm -rf _magisk
					</action>
					<action function="page">c_refresh</action>
				</actions>
			</action>
			<action>
				<touch key="home"/>
				<actions>
					<action function="cmd">
cd /twres/magisk/
sh exit
cd /
umount -l _magisk
rm -rf _magisk
					</action>
					<action function="page">c_refresh</action>
				</actions>
			</action>
		</page>
		<page name="c_magisk_option">
			<template name="c_page"/>
			<template name="c_status_bar"/>
			<text style="c_main_text_header">
				<placement x="%c_hawk_base_column%" y="%c_hawk_base_first_header%"/>
				<text>{@c_module_info_main=Module Info}</text>
			</text>
			<text style="c_text_dashboard">
				<placement x="%c_hawk_base_column%" y="%c_hawk_base_second_header%"/>
				<text>{@c_module_name=Module Name - }%c_mm_name%</text>
			</text>
			<text style="c_text_dashboard">
				<condition var1="c_module_disable" var2="0"/>
				<placement x="%c_hawk_base_column%" y="%magisk_manager_core_txt_y%"/>
				<text>{@c_enabled=Enabled}</text>
			</text>
			<text style="c_text_dashboard">
				<condition var1="c_module_disable" var2="1"/>
				<placement x="%c_hawk_base_column%" y="%magisk_manager_core_txt_y%"/>
				<text>{@c_disabled=Disabled}</text>
			</text>
			<button>
				<conditions>
					<condition var1="c_module_disable" var2="1"/>
				</conditions>
				<placement x="910" y="%input_default_y%"/>
				<image resource="c_switch_off"/>
				<actions>
					<action function="cmd">
rm -f %c_magisk_path%%c_magisk_name%/disable;
					</action>
					<action function="set">c_module_disable=0</action>
				</actions>
			</button>
			<button>
				<conditions>
					<condition var1="c_module_disable" var2="0"/>
				</conditions>
				<placement x="910" y="%input_default_y%"/>
				<image resource="c_switch_on"/>
				<actions>
					<action function="cmd">
cd /twres/magisk/;
cp -f disable %c_magisk_path%%c_magisk_name%/;
					</action>
					<action function="set">c_module_disable=1</action>
				</actions>
			</button>
			<text style="c_sub">
				<placement x="%c_hawk_base_column%" y="%t_1st_radio_text_pos%"/>
				<text>{@c_moreInfo=More Info}</text>
			</text>
			<text style="c_file_menu">
				<placement x="%c_hawk_base_column%" y="%t_2nd_radio_text_pos%"/>
				<text>{@c_module_name=Module Name - }%c_mm_name%</text>
			</text>
			<text style="c_file_menu">
				<placement x="%c_hawk_base_column%" y="%t_3rd_radio_text_pos%"/>
				<text>{@c_version=Version} - %c_mm_ver%</text>
			</text>
			<text style="c_file_menu">
				<placement x="%c_hawk_base_column%" y="%t_4th_radio_text_pos%"/>
				<text>{@c_author=Author} - %c_mm_author%</text>
			</text>

			<button>
				<image resource="c_delete"/>
				<placement x="860" y="1628"/>
				<actions>
					<action function="shrp_magisk_um"/>
					<action function="page">c_magisk_bhosdk</action>
				</actions>
			</button>
			<action>
				<touch key="back"/>
				<action function="page">c_magisk_bhosdk</action>
			</action>
		</page>
	</pages>
</recovery>
